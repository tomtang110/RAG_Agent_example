```markdown
# ç®€å•çš„ Agent RAGï¼šç¯®çƒè¿åŠ¨å‘˜ä¿¡æ¯é—®ç­”ç³»ç»Ÿ

![License](https://img.shields.io/badge/license-MIT-blue.svg)

æœ¬é¡¹ç›®å®žçŽ°äº†ä¸€ä¸ªç®€å•çš„ **Agent RAGï¼ˆæ£€ç´¢å¢žå¼ºç”Ÿæˆï¼‰ç³»ç»Ÿ**ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å’Œç ”ç©¶è€…ç†è§£å¦‚ä½•æž„å»ºä¸€ä¸ªé¢†åŸŸä¸“ç”¨çš„é—®ç­”ç³»ç»Ÿã€‚å½“å‰ç³»ç»Ÿä¸“æ³¨äºŽ **ç¯®çƒç›¸å…³é—®é¢˜**ï¼Œæ•°æ®æ¶µç›– **ä¸­å›½å’Œç¾Žå›½å„å‰50åç¯®çƒè¿åŠ¨å‘˜çš„æ¦‚è§ˆä¿¡æ¯**ã€‚

ç³»ç»Ÿé›†æˆäº†è·¯ç”±ã€åµŒå…¥æ£€ç´¢ï¼ˆEmbeddingï¼‰ã€BM25ã€ç”Ÿæˆç­‰æ ¸å¿ƒæ¨¡å—ï¼Œæ˜¯å­¦ä¹  RAG æž¶æž„çš„ç†æƒ³å®žè·µé¡¹ç›®ã€‚

---

## ðŸ“š æ•°æ®é›†è¯´æ˜Ž

ç³»ç»ŸåŸºäºŽä»¥ä¸‹ä¸¤ä¸ª Excel æ•°æ®æ–‡ä»¶æž„å»ºï¼š

- `america_basketball_player.xlsx`ï¼šç¾Žå›½å‰50åç¯®çƒè¿åŠ¨å‘˜çš„ç»¼åˆä¿¡æ¯
- `china_basketball_player.xlsx`ï¼šä¸­å›½å‰50åç¯®çƒè¿åŠ¨å‘˜çš„ç»¼åˆä¿¡æ¯

> âš ï¸ **æ³¨æ„**ï¼šæœ¬ç³»ç»Ÿ**ä»…æ”¯æŒç¯®çƒç›¸å…³æŸ¥è¯¢**ï¼Œå…¶ä»–é¢†åŸŸé—®é¢˜å°†è¢«æ‹’ç»ã€‚

---

## ðŸ§± ç³»ç»Ÿæž¶æž„

Agent RAG æµç¨‹åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š

| æ¨¡å—       | åŠŸèƒ½è¯´æ˜Ž |
|------------|--------|
| **Routerï¼ˆè·¯ç”±ï¼‰** | åˆ¤æ–­ç”¨æˆ·é—®é¢˜æ˜¯å¦ä¸Žç¯®çƒç›¸å…³ï¼Œè¿‡æ»¤æ— å…³è¯·æ±‚ |
| **Retrieverï¼ˆæ£€ç´¢å™¨ï¼‰** | èžåˆ **å‘é‡æ£€ç´¢ï¼ˆEmbeddingï¼‰** ä¸Ž **å…³é”®è¯æ£€ç´¢ï¼ˆBM25ï¼‰**ï¼Œæå‡å¬å›žå‡†ç¡®çŽ‡ |
| **Generatorï¼ˆç”Ÿæˆå™¨ï¼‰** | åŸºäºŽæ£€ç´¢ç»“æžœï¼Œè°ƒç”¨å¤§æ¨¡åž‹ç”Ÿæˆè‡ªç„¶è¯­è¨€å›žç­” |

> ðŸ”§ **åŽç»­è®¡åˆ’**ï¼šå°†é€æ­¥åŠ å…¥æŸ¥è¯¢æ”¹å†™ã€é‡æŽ’åºï¼ˆrerankerï¼‰ã€ç½‘ç»œæœç´¢ç­‰é«˜çº§æ¨¡å—ã€‚

---

## ðŸ› ï¸ ä¾èµ–åº“

é¡¹ç›®ä¾èµ–ä»¥ä¸‹æ ¸å¿ƒåº“å’ŒæœåŠ¡ï¼š

- `qwen` â€“ ä½¿ç”¨é€šä¹‰åƒé—® API è¿›è¡Œæ–‡æœ¬åµŒå…¥å’Œç”Ÿæˆ
- `langchain` â€“ æž„å»º LLM åº”ç”¨çš„æ ¸å¿ƒæ¡†æž¶
- `langgraph` â€“ ç”¨äºŽæž„å»º Agent çŠ¶æ€æµå’Œå·¥ä½œæµ
- `pydantic` â€“ æ•°æ®æ ¡éªŒä¸Žé…ç½®ç®¡ç†
- `pandas` â€“ è¯»å–å’Œå¤„ç† Excel æ•°æ®
- `openpyxl` â€“ æ”¯æŒ `.xlsx` æ–‡ä»¶è¯»å–
- å…¶ä»–å¸¸ç”¨åº“ï¼š`tqdm`, `numpy` ç­‰

å®‰è£…ä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

> ðŸ’¡ éœ€æå‰é…ç½® **Qwen API Key**ï¼ˆå»ºè®®é€šè¿‡çŽ¯å¢ƒå˜é‡è®¾ç½®ï¼‰

---

## ðŸ“ é¡¹ç›®ç»“æž„

```
.
â”œâ”€â”€ main.py                   # ä¸»ç¨‹åºå…¥å£ï¼šå®žçŽ°å®Œæ•´çš„ RAG æµç¨‹
â”œâ”€â”€ models.py                 # å®šä¹‰åµŒå…¥æ¨¡åž‹å’Œç”Ÿæˆæ¨¡åž‹çš„ API æŽ¥å£
â”œâ”€â”€ prompt_set.py             # åŒ…å«è·¯ç”±å’Œç”Ÿæˆé˜¶æ®µçš„æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ utils.py                  # å·¥å…·å‡½æ•°ï¼Œå¦‚æ•°æ®è§£æžã€æ ¼å¼å¤„ç†ç­‰
â”œâ”€â”€ america_basketball_player.xlsx  # ç¾Žå›½çƒå‘˜æ•°æ®é›†
â”œâ”€â”€ china_basketball_player.xlsx    # ä¸­å›½çƒå‘˜æ•°æ®é›†
â”œâ”€â”€ README.md / README_zh.md  # è¯´æ˜Žæ–‡æ¡£ï¼ˆä¸­è‹±æ–‡ï¼‰
â””â”€â”€ requirements.txt          # ä¾èµ–åˆ—è¡¨
```

---

## ðŸš€ ä½¿ç”¨æ–¹æ³•

1. **è®¾ç½® Qwen API Key**ï¼š
   ```bash
   export QWEN_API_KEY="your_api_key_here"
   ```

2. **è¿è¡Œä¸»ç¨‹åº**ï¼š
   ```bash
   python main.py
   ```

3. **è¾“å…¥é—®é¢˜ç¤ºä¾‹**ï¼š
   - â€œä¸­å›½æŽ’åå‰ä¸‰çš„çƒå‘˜æ˜¯è°ï¼Ÿâ€
   - â€œå‹’å¸ƒæœ—Â·è©¹å§†æ–¯æ•ˆåŠ›äºŽå“ªæ”¯çƒé˜Ÿï¼Ÿâ€
   - â€œå§šæ˜Žçš„èº«é«˜å’ŒèŒä¸šç”Ÿæ¶¯å¾—åˆ†æ˜¯å¤šå°‘ï¼Ÿâ€

> âœ… ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ¤æ–­é—®é¢˜ç›¸å…³æ€§ï¼Œéžç¯®çƒé—®é¢˜å°†è¢«ç¤¼è²Œæ‹’ç»ã€‚

---

## ðŸ§ª ç¤ºä¾‹è¾“å‡º

**è¾“å…¥**ï¼š  
â€œåˆ—å‡ºä¸­å›½å‰3åçƒå‘˜çš„èŒä¸šç”Ÿæ¶¯æ€»å¾—åˆ†â€

**è¾“å‡º**ï¼š  
æ ¹æ®æ•°æ®ï¼Œä¸­å›½å‰3åçƒå‘˜çš„èŒä¸šç”Ÿæ¶¯å¾—åˆ†å¦‚ä¸‹ï¼š  
1. å§šæ˜Ž â€“ NBAä¸ŽCBAåˆè®¡è¶…è¿‡9200åˆ†  
2. æ˜“å»ºè” â€“ èŒä¸šç”Ÿæ¶¯ç´¯è®¡7500+åˆ†  
3. éƒ­è‰¾ä¼¦ â€“ CBAæ ¸å¿ƒåŽå«ï¼Œå¾—åˆ†è¶…6000åˆ†  

> ï¼ˆæ³¨ï¼šå…·ä½“æ•°å€¼ä»¥å®žé™…æ•°æ®é›†å†…å®¹ä¸ºå‡†ï¼‰

---

## ðŸ“Œ å½“å‰é™åˆ¶

- ä»…æ”¯æŒç¯®çƒé¢†åŸŸé—®é¢˜
- æš‚æ— æŸ¥è¯¢æ‰©å±•ã€é‡æŽ’åºç­‰é«˜çº§åŠŸèƒ½
- å›žç­”è´¨é‡ä¾èµ–æ•°æ®å®Œæ•´æ€§å’Œæ¨¡åž‹èƒ½åŠ›

---

## ðŸŒŸ åŽç»­ä¼˜åŒ–è®¡åˆ’

- [ ] æ·»åŠ  **æŸ¥è¯¢æ”¹å†™ï¼ˆQuery Rewritingï¼‰** æå‡å¬å›žçŽ‡
- [ ] é›†æˆ **é‡æŽ’åºæ¨¡åž‹ï¼ˆRerankerï¼‰** æé«˜ç»“æžœç›¸å…³æ€§
- [ ] æ”¯æŒ **ç½‘ç»œæœç´¢æ‰©å±•**ï¼Œåº”å¯¹æœªçŸ¥çŸ¥è¯†
- [ ] æ‰©å±•è‡³æ›´å¤šä½“è‚²é¡¹ç›®æˆ–é€šç”¨é¢†åŸŸ

---

## ðŸ™Œ è‡´è°¢

- [LangChain](https://langchain.com) ä¸Ž [LangGraph](https://langchain-ai.github.io/langgraph/) â€“ å¼ºå¤§çš„æµç¨‹ç¼–æŽ’å·¥å…·
- [é€šä¹‰åƒé—® Qwen](https://qwen.ai) â€“ æä¾›é«˜è´¨é‡çš„ LLM API æ”¯æŒ

---

## ðŸ“„ è®¸å¯è¯

MIT Licenseï¼Œè¯¦è§ `LICENSE` æ–‡ä»¶ã€‚

---

> ðŸ¤– ç”± é˜¿é‡Œäº‘ Qwen æ‰“é€  | ä»…ä¾›å­¦ä¹ ä¸Žç ”ç©¶ä½¿ç”¨
```